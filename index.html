import React from "react";
import { motion } from "framer-motion";
import { ArrowRight, Sparkle, BarChart3, Layers, Beaker, CheckCircle2, CircleX, Rocket } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent } from "@/components/ui/card";

/**
 * Playbook Media â€” Boutique Performance Branding Agency
 * One-file, production-ready landing page built for SaaS & FinTech appeal.
 * Tailwind required. shadcn/ui and lucide-react available per project template.
 */

// ---- Theme ----
const brand = {
  navy: "#172238",
  steel: "#4C657C",
  mist: "#BCC9D5",
  orange: "#FF5001",
};

// ---- Motion presets ----
const container = {
  hidden: { opacity: 0, y: 20 },
  show: { opacity: 1, y: 0, transition: { duration: 0.6 } },
};

// ---- Content (extracted for DRY & i18n/CMS friendliness) ----
const MYTHS = [
  "Ã— Brand building and performance marketing need separate budgets",
  "Ã— You have to choose between creativity and conversion",
  "Ã— Brand impact can't be measured",
  "Ã— Performance creative should be generic to maximize relevance",
];

const PROBLEMS = [
  {
    title: "The Performance Trap",
    body:
      "You're optimizing for immediate conversions but destroying brand equity in the process. Your creative gets cheaper, your messaging gets more generic, and your CAC keeps climbing because you have no brand differentiation.",
    icon: <BarChart3 className="w-5 h-5 text-white" aria-hidden="true" />,
  },
  {
    title: "The Brand Delusion",
    body:
      "You're spending big on 'brand awareness' campaigns that look beautiful but can't prove business impact. Your CMO talks about long-term brand building while your CEO demands immediate ROI.",
    icon: <Layers className="w-5 h-5 text-white" aria-hidden="true" />,
  },
  {
    title: "The Attribution Excuse",
    body:
      "You've accepted that brand impact is 'unmeasurable,' so you default to bottom-funnel tactics that get more expensive every quarter as competitors crowd the same conversion-focused channels.",
    icon: <Beaker className="w-5 h-5 text-white" aria-hidden="true" />,
  },
  {
    title: "The Creative Compromise",
    body:
      "Your performance creative is optimized for clicks but builds no brand memory. Your brand creative is memorable but drives no immediate action. You're running two separate strategies that arenâ€™t in sync.",
    icon: <Sparkle className="w-5 h-5 text-white" aria-hidden="true" />,
  },
] as const;

const FEATURES = [
  {
    title: "Brandâ€“Performance Attribution",
    body: "Track how brand recognition drives performance improvements across all channels.",
    icon: <Beaker className="w-5 h-5 text-[var(--pm-orange)]" aria-hidden="true" />,
  },
  {
    title: "Creative That Compounds",
    body: "Brand-distinctive creative that drives conversions while building customer lifetime value.",
    icon: <Sparkle className="w-5 h-5 text-[var(--pm-orange)]" aria-hidden="true" />,
  },
  {
    title: "Competitive Advantage That Scales",
    body: "Build brand differentiation that makes your performance marketing more effective over time.",
    icon: <Rocket className="w-5 h-5 text-[var(--pm-orange)]" aria-hidden="true" />,
  },
] as const;

const FUTURES = [
  {
    title: "Master performance branding",
    body:
      "Build an unfair competitive advantage that compounds over time, making marketing more effective and efficient every quarter.",
  },
  {
    title: "Plateau while others win",
    body: "Competitors with stronger brand-assets siphon demand and drive down your efficiency.",
  },
  {
    title: "Waste budget on campaigns that don't scale",
    body: "Short-term tactics without brand memory get more expensive every quarter.",
  },
] as const;

// ---- Layout primitives ----
const Section: React.FC<React.PropsWithChildren<{ id?: string; className?: string }>> = ({ id, className, children }) => (
  <section id={id} className={`relative w-full ${className || ""}`}>{children}</section>
);

// FIX: removed stray '>' that broke type parsing
const ProblemCard: React.FC<{ title: string; body: string; icon: React.ReactNode }> = React.memo(({ title, body, icon }) => (
  <Card className="group h-full border-0 bg-white/5 backdrop-blur-md shadow-xl hover:shadow-2xl transition-all rounded-2xl">
    <CardContent className="p-6">
      <div className="flex items-start gap-4">
        <div className="p-3 rounded-xl bg-white/10 group-hover:bg-white/20 transition">{icon}</div>
        <div>
          <h3 className="text-white text-lg font-semibold leading-tight">{title}</h3>
          <p className="mt-2 text-sm text-white/80 leading-relaxed">{body}</p>
        </div>
      </div>
    </CardContent>
  </Card>
));
ProblemCard.displayName = "ProblemCard";

// FIX: removed stray '>' and memoized
const FeatureCard: React.FC<{ title: string; body: string; icon: React.ReactNode }> = React.memo(({ title, body, icon }) => (
  <Card className="h-full border border-white/10 bg-gradient-to-b from-white/10 to-white/5 rounded-2xl">
    <CardContent className="p-6">
      <div className="flex items-start gap-4">
        <div className="p-3 rounded-xl bg-[var(--pm-orange)]/10">{icon}</div>
        <div>
          <h3 className="text-white text-lg font-semibold">{title}</h3>
          <p className="mt-2 text-sm text-white/80 leading-relaxed">{body}</p>
        </div>
      </div>
    </CardContent>
  </Card>
));
FeatureCard.displayName = "FeatureCard";

export default function PlaybookMediaHomepage() {
  return (
    <div className="min-h-screen text-white bg-[var(--pm-navy)] relative overflow-hidden">
      {/* Brand tokens. NOTE: Move to globals (Tailwind theme) in production; inline here for portability. */}
      <style>{`
        :root{ --pm-navy:${brand.navy}; --pm-steel:${brand.steel}; --pm-mist:${brand.mist}; --pm-orange:${brand.orange}; }
        .font-display{ font-family: 'Libre Baskerville', ui-serif, Georgia, serif; }
        .font-body{ font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji'; }
      `}</style>

      {/* Ambient visual (lighter on mobile for paint perf) */}
      <div className="pointer-events-none absolute inset-0 [mask-image:radial-gradient(60%_50%_at_50%_20%,black,transparent)]">
        <div
          className="absolute -top-24 -left-24 w-[28rem] h-[28rem] md:w-[38rem] md:h-[38rem] rounded-full blur-xl md:blur-3xl opacity-30"
          style={{ background: `conic-gradient(from 120deg, ${brand.orange}33, ${brand.steel}66, ${brand.mist}55)` }}
        />
        <div
          className="absolute -bottom-24 -right-24 w-[32rem] h-[32rem] md:w-[42rem] md:h-[42rem] rounded-full blur-xl md:blur-3xl opacity-25"
          style={{ background: `radial-gradient(circle at 30% 30%, ${brand.orange}55, transparent 70%)` }}
        />
      </div>

      {/* NAV */}
      <nav className="relative z-10 max-w-7xl mx-auto px-6 py-6 flex items-center justify-between">
        <div className="flex items-center gap-3">
          <div className="w-9 h-9 rounded-xl bg-[var(--pm-orange)] grid place-items-center shadow-lg">
            <Sparkle className="w-5 h-5" aria-hidden="true" />
          </div>
          <div className="leading-tight">
            <span className="block font-body text-sm tracking-wide text-white/70">Playbook Media</span>
            <span className="block font-display text-lg">Performance Branding</span>
          </div>
        </div>
        <div className="hidden md:flex items-center gap-2">
          <Badge className="bg-white/10 text-white border-white/20">Boutique Agency</Badge>
          <Badge className="bg-white/10 text-white border-white/20">SaaS & FinTech</Badge>
        </div>
        <div className="flex items-center gap-3">
          {/* Use semantic anchors for navigation */}
          <Button asChild variant="ghost" className="text-white/80 hover:text-white">
            <a href="#work">Our Work</a>
          </Button>
          <Button asChild className="bg-[var(--pm-orange)] hover:bg-[#e24a03] text-black font-semibold">
            <a href="#cta">Book a Strategy Call</a>
          </Button>
        </div>
      </nav>

      {/* HERO */}
      <Section id="hero" className="relative">
        <div className="max-w-7xl mx-auto px-6 pt-10 pb-24">
          <motion.div initial="hidden" animate="show" variants={container}>
            <div className="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">
              <span className="inline-flex items-center gap-1"><Sparkle className="w-3.5 h-3.5" aria-hidden="true"/> Boutique, senior-led</span>
              <span className="opacity-40">â€¢</span>
              <span>Brand Ã— Performance</span>
            </div>

            <h1 className="font-display text-4xl sm:text-5xl lg:text-6xl leading-[1.05] mt-6">
              Where Brand Building Meets <span className="text-[var(--pm-orange)]">Performance Marketing</span>
            </h1>
            <p className="font-body text-lg md:text-xl text-white/85 mt-4">Building distinctive brands through measurable performance ðŸ’¡</p>
            <p className="font-body text-white/75 mt-4 max-w-3xl">
              Every ambitious company faces the same false choice: Build a brand or drive performance. We're Playbook Media. We prove that the strongest brands are built through measurable performanceâ€”and the best performance comes from distinctive brand equity.
            </p>

            <div className="mt-8 flex flex-col sm:flex-row gap-3">
              <Button asChild size="lg" className="bg-[var(--pm-orange)] hover:bg-[#e24a03] text-black font-semibold">
                <a href="#cta">Start Your Growth Sprint <span className="inline-flex"><ArrowRight className="ml-2 w-4 h-4" aria-hidden="true"/></span></a>
              </Button>
              <Button asChild size="lg" variant="outline" className="border-white/20 text-white hover:bg-white/10">
                <a href="#measurement">See How We Measure Brand Impact</a>
              </Button>
            </div>
          </motion.div>
        </div>

        {/* Hero bottom divider */}
        <div className="absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent" />
      </Section>

      {/* PROBLEMS */}
      <Section id="problems" className="py-20">
        <div className="max-w-7xl mx-auto px-6">
          <motion.div initial="hidden" whileInView="show" viewport={{ once: true, amount: 0.2 }} variants={container}>
            <h2 className="font-display text-3xl md:text-4xl">The False Choice Every Growing Company Faces</h2>
            <p className="font-body text-white/75 mt-3 max-w-3xl">
              Between "performance that kills the brand" and "brand building that kills performance," most companies get trapped in these beliefs:
            </p>

            <div className="mt-10 grid md:grid-cols-2 gap-6">
              {PROBLEMS.map((p, i) => (
                <ProblemCard key={i} title={p.title} body={p.body} icon={p.icon} />
              ))}
            </div>
          </motion.div>
        </div>
      </Section>

      {/* SOLUTION */}
      <Section id="solution" className="py-20">
        <div className="max-w-7xl mx-auto px-6">
          <motion.div initial="hidden" whileInView="show" viewport={{ once: true, amount: 0.2 }} variants={container}>
            <h2 className="font-display text-3xl md:text-4xl">The Performance Branding Breakthrough</h2>
            <p className="font-body text-white/75 mt-4 max-w-3xl">
              The breakthrough companies understand a counterintuitive truth: The strongest performance comes from distinctive brand assets, and the most valuable brand equity is built through measurable performance. Every dollar should build both immediate results and long-term competitive advantage.
            </p>

            <div className="mt-10 grid md:grid-cols-3 gap-6">
              {FEATURES.map((f, i) => (
                <FeatureCard key={i} title={f.title} body={f.body} icon={f.icon} />
              ))}
            </div>

            {/* Myths We Bust */}
            <div className="mt-12 rounded-2xl border border-white/10 bg-white/5 p-6">
              <h3 className="font-display text-2xl">Myths We Bust</h3>
              <ul className="grid md:grid-cols-2 gap-3 mt-4">
                {MYTHS.map((myth, i) => (
                  <li key={i} className="flex items-start gap-2 text-white/85">
                    <CircleX className="mt-1 w-4 h-4 text-[var(--pm-orange)]" aria-hidden="true" />
                    <span className="font-body">{myth}</span>
                  </li>
                ))}
              </ul>
            </div>
          </motion.div>
        </div>
      </Section>

      {/* FUTURES / CTA */}
      <Section id="futures" className="py-20">
        <div className="max-w-7xl mx-auto px-6">
          <motion.div initial="hidden" whileInView="show" viewport={{ once: true, amount: 0.2 }} variants={container}>
            <div className="grid lg:grid-cols-3 gap-6">
              {FUTURES.map((item, i) => (
                <Card key={i} className="border border-white/10 bg-white/5 rounded-2xl">
                  <CardContent className="p-6">
                    <div className="flex items-start gap-3">
                      <CheckCircle2 className={`w-5 h-5 ${i === 0 ? 'text-[var(--pm-orange)]' : 'text-white/50'}`} aria-hidden="true" />
                      <div>
                        <h4 className="text-white font-semibold">{i + 1}. {item.title}</h4>
                        <p className="text-white/80 mt-2 text-sm">{item.body}</p>
                      </div>
                    </div>
                  </CardContent>
                </Card>
              ))}
            </div>

            <div id="cta" className="mt-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6 rounded-2xl border border-white/10 bg-gradient-to-r from-white/10 to-white/5 p-6">
              <div>
                <h3 className="font-display text-2xl">We help ambitious companies choose option #1.</h3>
                <p className="font-body text-white/80 mt-2">Ready to join them?</p>
              </div>
              <div className="flex gap-3">
                <Button asChild size="lg" className="bg-[var(--pm-orange)] hover:bg-[#e24a03] text-black font-semibold">
                  <a href="/contact">Book a Strategy Call <ArrowRight className="ml-2 w-4 h-4" aria-hidden="true"/></a>
                </Button>
                <Button asChild size="lg" variant="outline" className="border-white/20 text-white hover:bg-white/10">
                  <a href="/playbook">Get the Playbook</a>
                </Button>
              </div>
            </div>
          </motion.div>
        </div>
      </Section>

      {/* FOOTER */}
      <footer className="mt-16 border-t border-white/10">
        <div className="max-w-7xl mx-auto px-6 py-10 grid md:grid-cols-2 gap-6 items-center">
          <div className="font-body text-white/70 text-sm">
            <div className="flex items-center gap-2 mb-2">
              <span className="inline-block w-2.5 h-2.5 rounded-full" style={{ background: brand.orange }} />
              <span>Playbook Media â€” Performance Marketing That Scales</span>
            </div>
            <p>Â© {new Date().getFullYear()} Playbook Media. All rights reserved.</p>
          </div>
          <div className="justify-self-end flex gap-3">
            <Button asChild variant="outline" className="border-white/20 text-white/80 hover:text-white hover:bg-white/10"><a href="/careers">Careers</a></Button>
            <Button asChild variant="outline" className="border-white/20 text-white/80 hover:text-white hover:bg-white/10"><a href="/contact">Contact</a></Button>
          </div>
        </div>
      </footer>
    </div>
  );
}
